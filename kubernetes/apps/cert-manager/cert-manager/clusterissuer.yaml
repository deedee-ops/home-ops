---
# yamllint disable-line rule:line-length
# yaml-language-server: $schema=https://kubernetes-schemas.pages.dev/cert-manager.io/clusterissuer_v1.json
apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: vault
spec:
  vault:
    path: pki_int/sign/${VAULT_SIGNING_ROLE}
    server: https://${VAULT_HOST}
    caBundle: ${CA_BUNDLE}
    auth:
      tokenSecretRef:
        name: vault-token-secret
        key: token

---
# yaml-language-server: $schema=https://schemas.ajgon.casa/external-secrets.io/externalsecret_v1.json
apiVersion: external-secrets.io/v1
kind: ExternalSecret
metadata:
  name: glance
spec:
  secretStoreRef:
    kind: ClusterSecretStore
    name: vault
  target:
    name: glance-secret
    template:
      data:
        GLANCE_LATITUDE: "{{ .GLANCE_LATITUDE }}"
        GLANCE_LONGITUDE: "{{ .GLANCE_LONGITUDE }}"
        GLANCE_WAQI_TOKEN: "{{ .GLANCE_WAQI_TOKEN }}"
  dataFrom:
    - extract:
        key: kubernetes
---
# yaml-language-server: $schema=https://schemas.ajgon.casa/external-secrets.io/externalsecret_v1.json
apiVersion: external-secrets.io/v1
kind: ExternalSecret
metadata:
  name: glance-config
spec:
  secretStoreRef:
    kind: ClusterSecretStore
    name: vault
  target:
    name: glance-config-secret
    template:
      data:
        feeds.yaml: "{{ .GLANCE_CONFIG_RSS_FEEDS }}"
        gaming.yaml: "{{ .GLANCE_CONFIG_YT_GAMING }}"
        knowledge.yaml: "{{ .GLANCE_CONFIG_YT_KNOWLEDGE }}"
        tech.yaml: "{{ .GLANCE_CONFIG_YT_TECH }}"
  dataFrom:
    - extract:
        key: kubernetes

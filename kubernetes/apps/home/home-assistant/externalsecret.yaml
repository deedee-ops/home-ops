---
# yaml-language-server: $schema=https://schemas.ajgon.casa/external-secrets.io/externalsecret_v1.json
apiVersion: external-secrets.io/v1
kind: ExternalSecret
metadata:
  name: home-assistant
spec:
  secretStoreRef:
    kind: ClusterSecretStore
    name: vault
  target:
    name: home-assistant-secret
    template:
      data:
        HASS_MAIL_ENCRYPTION: "{{ .HASS_MAIL_ENCRYPTION }}"
        HASS_MAIL_PASSWORD: "{{ .HASS_MAIL_PASSWORD }}"
        HASS_MAIL_PORT: "{{ .HASS_MAIL_PORT }}"
        HASS_MAIL_RECIPIENT: "{{ .HASS_MAIL_RECIPIENT }}"
        HASS_MAIL_SENDER: "{{ .HASS_MAIL_SENDER }}"
        HASS_MAIL_SERVER: "{{ .HASS_MAIL_SERVER }}"
        HASS_MAIL_USERNAME: "{{ .HASS_MAIL_USERNAME }}"
        HASS_OIDC_CLIENT_ID: "{{ .HASS_OIDC_CLIENT_ID }}"
        HASS_OIDC_CLIENT_SECRET: "{{ .HASS_OIDC_CLIENT_SECRET }}"
        HASS_OIDC_DISCOVERY_URL: "{{ .HASS_OIDC_DISCOVERY_URL }}"
        HASS_PROMETHEUS_METRICS_API_KEY: "{{ .HASS_PROMETHEUS_METRICS_API_KEY }}"
  dataFrom:
    - extract:
        key: kubernetes

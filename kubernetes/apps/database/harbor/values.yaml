---
harbor:
  expose:
    type: ingress
    tls:
      enabled: false
    ingress:
      className: internal
      annotations:
        gethomepage.dev/enabled: "true"
        gethomepage.dev/href: "https://registry.<path:kubernetes/data/internal/base#ROOT_DOMAIN>"
        gethomepage.dev/group: Admin
        gethomepage.dev/name: Harbor
        gethomepage.dev/icon: harbor.png
        gethomepage.dev/description: Docker registry
      hosts:
        core: "registry.<path:kubernetes/data/internal/base#ROOT_DOMAIN>"
  externalURL: "https://registry.<path:kubernetes/data/internal/base#ROOT_DOMAIN>"
  internalTLS:
    enabled: false
  persistence:
    enabled: true
    persistentVolumeClaim:
      registry:
        existingClaim: harbor-registry
  database:
    type: external
    external:
      host: "<path:kubernetes/data/internal/cloudnative-pg#HOST>"
      username: "<path:kubernetes/data/internal/harbor#DB_USERNAME>"
      coreDatabase: "<path:kubernetes/data/internal/harbor#DB_DATABASE>"
      existingSecret: harbor-secret
      sslmode: require
  redis:
    type: external
    external:
      addr: "redis-ha-haproxy.database.svc.cluster.local:6379"
      password: "<path:kubernetes/data/internal/redis-ha#PASSWORD>"
  metrics:
    enabled: true
    serviceMonitor:
      enabled: true

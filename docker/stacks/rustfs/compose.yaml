
---
# yamllint disable-line rule:line-length
# yaml-language-server: $schema=https://raw.githubusercontent.com/compose-spec/compose-spec/master/schema/compose-spec.json
services:
  rustfs:
    image: rustfs/rustfs:latest
    container_name: rustfs
    user: "1000:1000"
    restart: unless-stopped
    env_file:
      - ./compose.env
      - ./override.env
    volumes:
      - "${S3_DATA_DIRECTORY:-/s3}:/data"
    # security
    cap_drop:
      - all
    security_opt:
      - no-new-privileges
    read_only: true
